<%- include('./templates/header'); -%>
    <!-- 
Autor Geovanny Valencia / "Otro autor"
14/08/2020
Proposito de esta pagina: Esta es la pagina de reportes
aqui se gestionanran los reportes que se generan 
-->
    <!-- Aqui Agregar el contenido para las paginas del sistemas  -->
    <style id="CustomT">
        #MasTable {
            font-family: Arial, Helvetica, sans-serif;
            border-collapse: collapse;
            width: 100%;
        }

        #MasTable td,
        #MasTable th {
            border: 1px solid #ddd;
            padding: 8px;
        }

        #MasTable tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        #MasTable tr:hover {
            background-color: #ddd;
        }

        #MasTable th {
            padding-top: 12px;
            padding-bottom: 12px;
            text-align: left;
            background-color: #023374;
            color: white;
        }
    </style>
    <!-- cards TAbles -->

    <body class="body__menu" >
        <div class="container text-white ">
            <div class="row justify-content-center w-100">
                <div id="ProdOption" data-toggle="tooltip" data-placement="right" title="ADMINISTRAR USUARIOS"
                    onclick="changeOptionConfig(this.id)" class="card oprtions text-dark" style="width: 12rem;">
                    <div class="card-body">
                        <p class="card-text"><strong><i>PRODUCTOS</i></strong></p>
                    </div>
                </div>

                <div id="MasOption" data-toggle="tooltip" data-placement="right" title="ADMINISTRAR PROMOCIONES"
                    onclick="changeOptionConfig(this.id)" class="card oprtions text-dark" style="width: 12rem;">
                    <div class="card-body">
                        <p class="card-text"><strong><i>MAS VENDIDOS</i></strong></p>
                    </div>
                </div>

                <div id="DetOption" data-toggle="tooltip" data-placement="right" title="ADMINISTRAR PROMOCIONES"
                    onclick="changeOptionConfig(this.id)" class="card oprtions text-dark" style="width: 12rem;">
                    <div class="card-body">
                        <p class="card-text"><strong><i>LISTAS VENTAS</i></strong></p>
                    </div>
                </div>

                <div id="XOption" data-toggle="tooltip" data-placement="right" title="ADMINISTRAR PROMOCIONES"
                    onclick="changeOptionConfig(this.id)" class="card oprtions text-dark" style="width: 12rem;">
                    <div class="card-body">
                        <p class="card-text"><strong><i>REPORTE X</i></strong></p>
                    </div>
                </div>

            </div>
        </div>

        <div class="container-fuid justify-content-center">

            <div id="ProdOp" class="d-none main-container-list">
                <!-- Reportes Productos -->
                <center>
                    <table>
                        <tr>
                            <td><button class="btn btn-success ver" onclick="makePdf1()">Cargar reporte</button> </td>
                        </tr>
                    </table>
                </center>

                <h1 class="text-white">Lista de productos</h1>
                <hr>
                <div class="row ">
                    <div class="col-md-6">
                        <div class="card">
                            <div id="ProductoTable" class="card-body">
                                <h3 class="text-dark text-center">Lista de productos</h3>
                                <table id="TableUser"
                                    class="borderless table table-responsive-lg text-dark text-center">
                                    <thead class="thead-dark">
                                        <tr>
                                            <th>Producto</th>
                                            <th>Precio</th>
                                            <th>Cateoria</th>
                                            <th>Estado</th>

                                        </tr>
                                    </thead>
                                    <tbody id="container-list-table2">

                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div id="MasOp" class="d-none main-container-list">
                <!-- Reportes ordenar lista de manera ascendente -->
                <center>
                    <table>
                        <tr>
                            <td>Desde</td>
                            <td>Hasta</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>
                                <input type="date" class="form-control" id="fechaX1">
                            </td>
                            <td>
                                <input type="date" class="form-control" id="fechaY1">

                            </td>
                            <td><button class="btn btn-success ver" onclick="makePdf3()">Cargar reporte</button> </td>
                            <td><button class="btn btn-success ver" onclick="makePdf31()">Reporte Diario</button> </td>
                        </tr>
                    </table>
                </center>
                <h1 class="text-white">PRODUCTOS MAS VENDIDOS</h1>
                <hr>
                <div class="row ">
                    <div class="col-md-6">
                        <div class="card">
                            <div id="MasTable" class="card-body">
                                <h3 class="text-dark text-center">LISTA DE PRODUCTOS MAS VENDIDOS DEL DIA</h3>
                                <table id="TableUser"
                                    class="borderless table table-responsive-lg text-dark text-center">
                                    <thead class="thead-dark">
                                        <tr>
                                            <th>Producto</th>
                                            <th>Cantidad</th>
                                            <th>Total</th>

                                        </tr>
                                    </thead>
                                    <tbody id="container-list-table3">

                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div id="DetOp" class="d-none main-container-list">
                <!-- Reportes ordenar lista de manera ascendente -->
                <center>
                    <table>
                        <tr>
                            <td>Desde</td>
                            <td>Hasta</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>
                                <input type="date" class="form-control" id="fechaX2">
                            </td>
                            <td>
                                <input type="date" class="form-control" id="fechaY2">

                            </td>
                            <td><button class="btn btn-success ver" onclick="makePdf4()">Cargar reporte</button> </td>
                            <td><button class="btn btn-success ver" onclick="makePdf41()">Reporte Diario</button> </td>
                        </tr>
                    </table>
                </center>
                <h1 class="text-white">LISTA DE VENTAS DETALLADA DEL DIA</h1>
                <hr>
                <div class="row ">
                    <div class="col-md-6">
                        <div class="card">
                            <div id="ListaVTable" class="card-body">
                                <h3 class="text-dark text-center">LISTA DE VENTAS DETALLADA DEL DIA</h3>
                                <table id="TableUser"
                                    class="borderless table table-responsive-lg text-dark text-center">
                                    <thead class="thead-dark">
                                        <tr>
                                            <th>Producto</th>
                                            <th>Cantidad</th>
                                            <th>Precio</th>
                                            <th>Hora</th>
                                            <th>Fecha</th>
                                        </tr>
                                    </thead>
                                    <tbody id="container-list-table4">

                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- REP X-->
            <div id="XoP" class="d-none main-container-list">
                <!-- Reporte x -->
                <center>
                    <h2 class="text-white">Reporte X</h2>
                    <table>
                        <tr>
                            <td>Desde</td>
                            <td>Hasta</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>
                                <input type="date" class="form-control" id="fechaNX1">
                            </td>
                            <td>
                                <input type="date" class="form-control" id="fechaNX2">

                            </td>
                            <td><button class="btn btn-success ver" onclick="makePdf5()">Cargar reporte</button> </td>
                            <td><button class="btn btn-success ver" onclick="makePdf51()">Reporte Diario</button> </td>
                        </tr>
                    </table>
                </center>

                <hr>
            </div>

        </div> <!-- Fin del container -->

        <hr>

        <%- include('./templates/scripts.ejs'); -%>
            <script src="/public/js/repoCliente.js"></script>
            <script src="/public/js/repoProducto.js"></script>
            <script src="/public/js/repoProductoMasV.js"></script>
            <script src="/public/js/repoVentas.js"></script>
            <script src="/public/js/repoX.js"></script>



            <script>

                $(document).ready(() => {
                    getListTable2();
                });
                //FUNCION PARA HACER EL CAMBIO DE PANTALLA Y OCULTAR OTROS ELEMENTOS 

                let lastElemnt = document.getElementById('ProdOp');
                const changeOptionConfig = (option) => {
                    if (lastElemnt) {
                        lastElemnt.classList.add('d-none');
                    }
                    switch (option) {

                        case 'ProdOption':
                            if ($("#ProdOp").hasClass("d-none")) {
                                $("#ProdOp").removeClass("d-none");
                                getListTable2();
                            }
                            lastElemnt = document.getElementById('ProdOp');
                            break;

                        case 'MasOption':
                            if ($("#MasOp").hasClass("d-none")) {
                                $("#MasOp").removeClass("d-none");
                                getListTable3();
                            }
                            lastElemnt = document.getElementById('MasOp');
                            break;

                        case 'DetOption':
                            if ($("#DetOp").hasClass("d-none")) {
                                $("#DetOp").removeClass("d-none");
                                getListTable4();
                            }
                            lastElemnt = document.getElementById('DetOp');
                            break;

                        case 'XOption':
                            if ($("#XoP").hasClass("d-none")) {
                                $("#XoP").removeClass("d-none");
                                // getListTable4();
                            }
                            lastElemnt = document.getElementById('XoP');
                            break;

                        default:
                            break;
                    }
                }



            </script>